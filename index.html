<!DOCTYPE html>  <html lang="fr">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
  <title>Chatbot shadow</title>  
  <style>  
  body {
      background: #111;
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      color: #00ffc8;
      animation: fadeIn 2s ease-in-out;
      text-shadow: 0 0 10px #00ffc8;
    }

    #chatbox {
      width: 100%;
      max-width: 600px;
      height: 400px;
      background: #1a1a1a;
      overflow-y: auto;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 10px;
      box-shadow: 0 0 15px #00ffc8;
      animation: slideUp 1s ease-out;
    }

    .message {
      margin: 10px 0;
      padding: 12px 16px;
      border-radius: 10px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      animation: fadeInUp 0.6s ease forwards;
      opacity: 0;
      display: inline-block;
      max-width: 80%;
    }

    .message:hover {
      transform: scale(1.03);
      box-shadow: 0 0 15px rgba(0, 255, 200, 0.3);
    }

    .user {
      background: rgba(0, 191, 255, 0.15);
      color: #00bfff;
      align-self: flex-end;
    }

    .bot {
      background: rgba(0, 255, 148, 0.1);
      color: #00ff94;
      align-self: flex-start;
    }

    .message::before {
      font-size: 1.2em;
      margin-right: 8px;
    }

    .user::before {
      content: 'üôã';
    }

    .bot::before {
      content: 'ü§ñ';
    }

    .thinking::after {
      content: '';
      display: inline-block;
      animation: dots 1s steps(3, end) infinite;
      width: 1em;
      text-align: left;
    }

    #inputForm {
      display: flex;
      max-width: 600px;
      width: 100%;
    }

    #inputQuestion {
      flex: 1;
      padding: 10px;
      font-size: 16px;
      border: none;
      border-radius: 6px 0 0 6px;
      background: #222;
      color: #eee;
    }

    #submitBtn, #historyBtn, #clearHistoryBtn {
      padding: 10px;
      border: none;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    #submitBtn {
      background: #00ffc8;
      color: #111;
      border-radius: 0 6px 6px 0;
    }

    #submitBtn:hover {
      background: #00bfa5;
    }

    #historyBtn, #clearHistoryBtn {
      width: 100%;
      max-width: 600px;
      margin-top: 10px;
      border-radius: 6px;
    }

    #historyBtn {
      background: #00ffc8;
      color: #111;
    }

    #historyBtn:hover {
      background: #00bfa5;
    }

    #clearHistoryBtn {
      background: #ff4d4d;
      color: #fff;
    }

    #clearHistoryBtn:hover {
      background: #cc0000;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes dots {
      0% { content: ''; }
      33% { content: '.'; }
      66% { content: '..'; }
      100% { content: '...'; }
    }
    body {  
      background: #111;  
      color: #eee;  
      font-family: Arial, sans-serif;  
      margin: 0;  
      padding: 20px;  
      display: flex;  
      flex-direction: column;  
      align-items: center;  
    }  h1 {  
  color: #00ffc8;  
  animation: fadeIn 2s ease-in-out;  
}  

#chatbox {  
  width: 100%;  
  max-width: 600px;  
  height: 400px;  
  background: #222;  
  overflow-y: auto;  
  border-radius: 10px;  
  padding: 10px;  
  margin-bottom: 10px;  
  box-shadow: 0 0 10px #00ffc8;  
  animation: slideUp 1s ease-out;  
}  

.message {  
  margin: 5px 0;  
  opacity: 0;  
  animation: fadeInUp 0.5s ease forwards;  
}  

.user {  
  color: #00bfff;  
}  

.bot {  
  color: #00ff94;  
}  

#inputForm {  
  display: flex;  
  max-width: 600px;  
  width: 100%;  
}  

#inputQuestion {  
  flex: 1;  
  padding: 10px;  
  font-size: 16px;  
  border: none;  
  border-radius: 6px 0 0 6px;  
}  

#submitBtn, #historyBtn {  
  padding: 10px;  
  background: #00ffc8;  
  border: none;  
  color: #111;  
  font-weight: bold;  
  cursor: pointer;  
  transition: background 0.3s ease;  
}  

#submitBtn:hover, #historyBtn:hover {  
  background: #00bfa5;  
}  

#submitBtn {  
  border-radius: 0 6px 6px 0;  
}  

#historyBtn {  
  margin-top: 10px;  
  border-radius: 6px;  
  width: 100%;  
  max-width: 600px;  
}  

@keyframes fadeIn {  
  from { opacity: 0; }  
  to { opacity: 1; }  
}  

@keyframes slideUp {  
  from { transform: translateY(30px); opacity: 0; }  
  to { transform: translateY(0); opacity: 1; }  
}  

@keyframes fadeInUp {  
  from { opacity: 0; transform: translateY(10px); }  
  to { opacity: 1; transform: translateY(0); }  
}

  </style>  
</head>  
<body>  
  <h1>sadow ÔøΩÔøΩùë®ùë∞ üíª</h1>  
  <div id="chatbox"></div>  
  <form id="inputForm">  
    <input type="text" id="inputQuestion" placeholder="Pose ta question..." required />  
    <button type="submit" id="submitBtn">Envoyer</button>  
  </form>  
  <button id="historyBtn">Voir l'historique</button>    <script>  
    const chatbox = document.getElementById('chatbox');  
    const form = document.getElementById('inputForm');  
    const input = document.getElementById('inputQuestion');  
    const historyBtn = document.getElementById('historyBtn');  
  
    function addMessage(text, sender) {  
      const div = document.createElement('div');  
      div.className = 'message ' + sender;  
      div.textContent = (sender === 'user' ? 'Vous : ' : 'shadow bot : ') + text;  
      chatbox.appendChild(div);  
      chatbox.scrollTop = chatbox.scrollHeight;  
    }  
  
    function saveQuestion(question) {  
      const history = JSON.parse(localStorage.getItem('dav_history') || '[]');  
      history.push(question);  
      localStorage.setItem('dav_history', JSON.stringify(history));  
    }  
  
    function isAboutCreator(text) {  
      const t = text.toLowerCase();  
      return (  
        t.includes("qui t'a cr√©√©") ||  
        t.includes("je ete cree par octavio") ||  
        t.includes("qui es-tu") ||  
        t.includes("tu es qui") ||  
        t.includes("octavio")  
      );  
    }  
  
    async function askGemini(prompt) {  
      const apiKey = 'AIzaSyAaZkM5zG11lrotfZfkKyts-TbKheHr05o'; // √† s√©curiser c√¥t√© serveur  
      const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`;  
      const body = {  
        contents: [{ parts: [{ text: prompt }] }]  
      };  
      try {  
        const res = await fetch(url, {  
          method: 'POST',  
          headers: { 'Content-Type': 'application/json' },  
          body: JSON.stringify(body)  
        });  
        const data = await res.json();  
        return data.candidates?.[0]?.content?.parts?.[0]?.text || "Je n'ai pas compris.";  
      } catch (err) {  
        return "Une erreur s'est produite.";  
      }  
    }  
  
    form.addEventListener('submit', async (e) => {  
      e.preventDefault();  
      const question = input.value.trim();  
      if (!question) return;  
  
      addMessage(question, 'user');  
      saveQuestion(question);  
      input.value = '';  
  
      let reply = "Je r√©fl√©chis...";  
      addMessage(reply, 'bot');  
  
      if (isAboutCreator(question)) {  
        reply = "Bonjour ! Je suis ùë≤ùë®ùë≤ùë®ùë∫ùëØùë∞ AI, une intelligence artificielle cr√©√©e par Octavio Wina üòá.";  
      } else {  
        reply = await askGemini(question);  
      }  
  
      // Supprime "Je r√©fl√©chis..." avant d'afficher la vraie r√©ponse  
      chatbox.lastChild.remove();  
      addMessage(reply, 'bot');  
    });  
  
    historyBtn.onclick = () => {  
      const history = JSON.parse(localStorage.getItem('dav_history') || '[]');  
      if (history.length === 0) {  
        alert("Aucune question pos√©e.");  
      } else {  
        alert("Historique :\n" + history.join("\n"));  
      }  
    };  
  </script>  </body>  
</html>
